# Flappy Bird - C++课程设计作业

这是一个使用C++和EasyX图形库开发的类似Flappy Bird的小游戏，具有完整的音频系统和独立exe打包功能。

## 🎮 游戏特性

- 🐦 可爱的小鸟角色，支持跳跃控制
- 🌿 随机生成的绿色管道障碍
- 🪙 金币收集系统，增加游戏趣味性
- 🏆 实时分数统计系统
- 🎵 背景音乐和音效系统
- 🎨 精美的游戏界面和动画效果
- 🔄 游戏结束后可重新开始
- ☁️ 天空背景和云朵装饰
- 📦 独立exe文件，无需额外音频文件

## 🛠️ 环境要求

- Windows 操作系统
- Visual Studio 2019 或更高版本
- EasyX 图形库

## 📥 EasyX安装方法

1. 访问 EasyX 官网：https://easyx.cn/
2. 下载适合你的 Visual Studio 版本的 EasyX 安装包
3. 运行安装程序，按提示完成安装
4. 重启 Visual Studio

## 🚀 编译和运行

1. 确保已安装 EasyX 图形库
2. 双击 `FlappyBird.sln` 文件打开项目
3. 在 Visual Studio 中选择 Debug 或 Release 配置
4. 按 `F5` 或点击"开始调试"按钮
5. 游戏窗口将自动打开，无控制台窗口

## 🎯 游戏操作

- **空格键**：小鸟跳跃 / 开始游戏
- **R键**：游戏结束后重新开始
- **ESC键**：退出游戏

## 📋 游戏规则

1. 控制小鸟通过管道之间的空隙
2. 小鸟会受重力影响下降，按空格键让小鸟跳跃
3. 撞到管道、地面或天花板游戏结束
4. 成功通过一个管道得1分
5. 收集金币可获得额外分数
6. 挑战你的最高分数！

## 📁 项目结构

```
game/
├── src/                     # 源代码目录
│   ├── main.cpp            # 程序入口点
│   ├── Game.cpp/.h         # 游戏主控制器
│   ├── Bird.cpp/.h         # 小鸟类
│   ├── Pipe.cpp/.h         # 管道类
│   ├── Coin.cpp/.h         # 金币类
│   ├── AudioManager.cpp/.h # 音频管理器
│   ├── game_constants.h    # 游戏常量定义
│   ├── resource.h          # 资源定义头文件
│   └── resources.rc        # 资源脚本文件
├── assets/                 # 资源文件目录
│   └── audio/             # 音频文件
│       ├── background_music.mp3
│       └── coin_sound.mp3
├── x64/                    # 编译输出目录
│   ├── Debug/             # Debug版本
│   │   ├── FlappyBird.exe
│   │   └── FlappyBird.pdb
│   └── Release/           # Release版本
│       ├── FlappyBird.exe
│       └── FlappyBird.pdb
├── FlappyBird.sln         # Visual Studio 解决方案
├── FlappyBird.vcxproj     # Visual Studio 项目文件
├── .gitignore             # Git忽略文件配置
└── README.md              # 项目说明文档
```

## 🔧 技术实现

### 核心类设计

1. **Game类**：游戏主控制器，管理游戏状态、分数、碰撞检测等
2. **Bird类**：小鸟对象，包含位置、速度、跳跃等功能
3. **Pipe类**：管道对象，包含位置、碰撞检测、移动等功能
4. **Coin类**：金币对象，包含位置、动画、收集检测等功能
5. **AudioManager类**：音频管理器，处理背景音乐和音效播放

### 主要功能模块

- **物理系统**：重力模拟和跳跃机制
- **碰撞检测**：小鸟与管道、金币的精确碰撞判断
- **随机生成**：管道高度和金币位置的随机化
- **游戏状态管理**：开始、进行中、结束状态切换
- **音频系统**：使用Windows MCI API播放嵌入式音频资源
- **资源管理**：音频文件嵌入exe，运行时动态提取
- **图形渲染**：使用EasyX进行2D图形绘制

### 音频系统特性

- **嵌入式资源**：音频文件编译时嵌入exe，无需外部文件
- **RCDATA资源类型**：使用正确的资源类型确保音频加载
- **动态提取**：运行时将音频资源提取到临时文件
- **异步播放**：音效播放不阻塞游戏主循环
- **资源清理**：自动清理临时音频文件
- **冲突避免**：为每个音效生成唯一别名，避免播放冲突
- **音量控制**：支持背景音乐音量调节

## 📚 课程设计要点

本项目涵盖了C++课程的多个重要知识点：

- **面向对象编程**：类的设计和使用
- **STL容器**：vector的使用
- **文件操作**：资源文件读写
- **多线程编程**：异步音频处理
- **Windows API**：MCI音频播放、资源管理
- **游戏循环**：主循环和帧率控制
- **事件处理**：键盘输入检测
- **数学计算**：物理模拟和碰撞检测
- **图形编程**：2D图形绘制和动画
- **项目管理**：模块化设计和代码组织
- **资源编译**：RC文件和资源嵌入技术

## ⚙️ 编译配置

- **子系统**：Windows应用程序（无控制台窗口）
- **入口点**：WinMain（Windows标准入口）
- **资源编译**：RC文件编译音频资源为RCDATA类型
- **优化**：Release配置优化性能
- **链接库**：winmm.lib（多媒体API支持）

## 📦 部署说明

编译后的exe文件是完全独立的，包含所有必要的资源：
- ✅ 无需额外的音频文件
- ✅ 无需控制台窗口
- ✅ 可直接分发给其他用户
- ✅ 退出时完全清理，无残留文件
- ✅ 支持Debug和Release两种配置

## ⚠️ 注意事项

- 确保EasyX库正确安装，否则编译会失败
- 推荐使用Release配置编译最终版本
- 音频文件已嵌入exe，无需单独分发
- 资源文件使用RCDATA类型，确保音频系统正常工作
- 如遇到编译问题，请检查Visual Studio版本和EasyX版本的兼容性
- 确保项目文件中的资源路径正确指向src目录

## 🐛 常见问题解决

### 编译错误
- **RC1004错误**：检查resource.h和resources.rc文件格式，确保文件末尾有换行符
- **找不到资源文件**：确认资源文件路径在项目配置中正确设置

### 音频问题
- **无声音**：检查资源类型是否为RCDATA，确保音频文件路径正确
- **音频播放异常**：确认系统支持MCI多媒体接口

## 👨‍💻 作者信息

这是一个完整的C++课程设计作业项目，展示了游戏开发、音频处理、资源管理等多方面的编程技能。项目采用模块化设计，代码结构清晰，适合作为学习C++游戏开发的参考项目。

## 🎯 学习价值

- 掌握C++面向对象编程实践
- 学习Windows平台游戏开发
- 了解音频资源嵌入和管理技术
- 体验完整的项目开发流程
- 培养代码组织和项目管理能力

祝你游戏愉快！🎮# Flappy-Bird-like
# Flappy-Bird-like
